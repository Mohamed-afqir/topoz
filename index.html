<!DOCTYPE html>
<html lang="en">

<head>
    <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-8789800190538252" crossorigin="anonymous"></script>
    <!-- Global site tag (gtag.js) - Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-120084174-3"></script>
    <script>
        window.dataLayer = window.dataLayer || [];

        function gtag() {
            dataLayer.push(arguments);
        }
        gtag('js', new Date());

        gtag('config', 'UA-120084174-3');
    </script>
    <title>Mappe</title>
    <meta charset="UTF-8" />
    <meta name="color-scheme" content="light dark" />
    <meta name="viewport" content="width=device-width, initial-scale=0.9" />
    <meta name="mobile-web-app-capable" content="yes" />
    <meta http-equiv="X-UA-Compatible" content="ie=edge" />
    <link rel="icon" type="image/png" href="favicon.png" />
    <link defer href="https://fonts.googleapis.com/css?family=Roboto&display=swap" rel="stylesheet" />
    <link defer rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous" />
    <link defer rel="stylesheet" href="https://unpkg.com/leaflet.pm@latest/dist/leaflet.pm.css" />
    <link defer rel="stylesheet" href="https://unpkg.com/leaflet@1.5.1/dist/leaflet.css" />
    <link defer rel="stylesheet" href="https://cdn.jsdelivr.net/npm/leaflet.locatecontrol/dist/L.Control.Locate.min.css" />
    <link defer rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css" />
    <link defer rel="stylesheet" href="plugins/L.Control.MousePosition.css" />
    <link defer rel="stylesheet" href="plugins/am/leaflet.awesome-markers.css" />
  
    <link defer rel="stylesheet" href="plugins/search/leaflet-search.css" />
    <link defer rel="stylesheet" href="style.css?v=701" />
    <script data-ad-client="ca-pub-8789800190538252" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
    <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-8789800190538252" crossorigin="anonymous"></script>
    <script defer src="https://apis.google.com/js/api.js" type="text/javascript"></script>
    <script defer src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
    <script defer src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js" integrity="sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1" crossorigin="anonymous"></script>
    <script defer src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js" integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM" crossorigin="anonymous"></script>
    <script defer src="https://unpkg.com/leaflet@1.3.1/dist/leaflet.js"></script>
    <script defer src="https://unpkg.com/leaflet.pm@latest/dist/leaflet.pm.min.js"></script>
    <script defer src="https://cdn.jsdelivr.net/npm/leaflet-draw@1.0.4/dist/leaflet.draw.min.js"></script>
    <script defer src="https://unpkg.com/shpjs@latest/dist/shp.js"></script>
    <script defer src="plugins/dxf-parser.js"></script>
    <script defer src="plugins/mq.js"></script>
    <script defer src="plugins/leaflet.social.js"></script>
    <script defer src="plugins/L.Control.Appearance.js"></script>
    <script defer src="plugins/search/leaflet-search.js"></script>
    <script defer src="plugins/locate.js" charset="utf-8"></script>
    <script defer src="plugins/proj4.js"></script>
    <script defer src="plugins/proj4leaflet.js"></script>
    <script defer src="plugins/L.Control.MousePosition.js"></script>
    <script defer src="plugins/circleToPolygon.js"></script>
    <script defer src="plugins/am/leaflet.awesome-markers.min.js"></script>
    <script defer src="plugins/zip.js"></script>
    <script defer src="plugins/togeojson.js"></script>
    <script defer src="morocco.js"></script>
	<script defer src="point.js"></script>
	<script defer src="point1.js"></script>
	<script defer src="polygon.js"></script>
	<script defer src="line.js"></script>
    <style>
        .loading {
            position: absolute;
            background-color: rgb(255, 255, 255);
            width: 100%;
            height: 100%;
            z-index: 9999;
        }

        .splash {
            margin: 0 auto;
            display: none;
            background-image: url('bg.png');
            width: 313px;
            height: 160px;
            position: relative;
            top: 50%;
            -ms-transform: translateY(-50%);
            transform: translateY(-50%);
        }

        .cross {
            display: none;
            background-image: url('cross.png');
            width: 47px;
            height: 46px;
            position: absolute;
            left: 242px;
            top: 34px;
            -webkit-animation: spin 0.6s ease-out infinite;
            -moz-animation: spin 0.6s ease-out infinite;
            animation: spin 0.6s ease-out infinite;
        }

        @-moz-keyframes spin {
            100% {
                -moz-transform: rotate(90deg);
            }
        }

        @-webkit-keyframes spin {
            100% {
                -webkit-transform: rotate(90deg);
            }
        }

        @keyframes spin {
            100% {
                -webkit-transform: rotate(90deg);
                transform: rotate(90deg);
            }
        }

        @-moz-keyframes loading {
            100% {
                -moz-transform: rotate(360deg);
            }
        }

        @-webkit-keyframes loading {
            100% {
                -webkit-transform: rotate(360deg);
            }
        }

        @keyframes loading {
            100% {
                -webkit-transform: rotate(360deg);
                transform: rotate(360deg);
            }
        }
    </style>
</head>

<body>
    <div class="loading">
        <div class="splash">
            <div class="cross"></div>
        </div>
    </div>

    <div id="map"></div>

    <select id="proj-select" class="form-control form-control-sm">
        <option selected value="N">Maroc - Zone 1</option>
        <option value="S">Maroc - Zone 2</option>
        <option value="SN">Maroc - Zone 3</option>
        <option value="SS">Maroc - Zone 4</option>
    </select>

    <div id="mark-position-btn-container">
        <a id="mark-position-btn" class="btn btn-primary"><i style="color: white;" class="fa fa-map-marker"></i></a>
    </div>


    <div class="account-btn-container">
        <a href="javascript:void(0)" class="account-btn btn btn-primary">
        </a>
    </div>

    <button id="import-export-btn" type="button" class="btn btn-lg btn-secondary" data-toggle="modal" data-target="#importExportModal"><i class="fa fa-file"></i></button>
    <div class="modal fade" id="importExportModal" tabindex="-1" role="dialog" aria-hidden="true">
        <div class="modal-dialog" role="document">
            <div class="modal-content">
                <div class="modal-header" style="padding: 10px">
                    <h5 class="modal-title" id="exampleModalLabel"><b>Import: </b></h5>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        ✖
                    </button>
                </div>
                <div class="modal-body" style="padding: 10px">
                    <div class="form-group row">
                        <label for="getDXF" id="import-dxf-btn" type="button" class="btn btn-secondary">Import
                            DXF</label>
                        <input style="display: none;" id="getDXF" type="file" accept=".dxf" onchange="onChooseFileDXF(event)" />
                        <label for="getSHP" id="import-shp-btn" type="button" class="btn btn-secondary">Import Shapefile
                            (.ZIP)</label>
                        <input style="display: none;" id="getSHP" type="file" accept=".zip" onchange="onChooseFileSHP(event)" />
                        <label for="getGeoJSON" id="import-geojson-btn" type="button" class="btn btn-secondary">Import
                            GeoJSON</label>
                        <input style="display: none;" id="getGeoJSON" type="file" accept=".geojson, .json" onchange="onChooseFileGeoJSON(event)" />
                        <label for="getKML" id="import-kml-btn" type="button" class="btn btn-secondary">Import KML
                            (.KML/.KMZ)</label>
                        <input style="display: none;" id="getKML" type="file" accept=".kml, .kmz" onchange="onChooseFileKML(event)" />
                                        
                    </div>
                </div>
            </div>
        </div>
    </div>
    <button id="goto-btn" type="button" class="btn btn-secondary btn-sm" data-toggle="modal" data-target="#gotoModal">Aller à</button>
    <div class="modal fade" id="gotoModal" tabindex="-1" role="dialog" aria-hidden="true">
        <div class="modal-dialog" role="document">
            <div class="modal-content">
                <div class="modal-header" style="padding: 10px">
                    <h5 class="modal-title" id="exampleModalLabel">Aller à :</h5>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        ✖
                    </button>
                </div>
                <nav>
                    <div class="nav nav-tabs" id="nav-tab" role="tablist">
                        <a class="nav-item nav-link active" id="nav-home-tab" data-toggle="tab" href="#nav-home" role="tab" aria-controls="nav-home" aria-selected="true">Maroc - Zone 1</a>
                        <a class="nav-item nav-link" id="nav-profile-tab" data-toggle="tab" href="#nav-profile" role="tab" aria-controls="nav-profile" aria-selected="false">WGS84</a>
                    </div>
                </nav>
                <div class="tab-content" id="nav-tabContent">
                    <div class="tab-pane fade show active" id="nav-home" role="tabpanel" aria-labelledby="nav-home-tab">
                        <div class="modal-body" style="padding: 10px">
                            <div class="form-group row">
                                <div class="col-sm-6" style="border-right: 1px solid gray;">
                                    <input type="text" class="form-control" id="xCoord" placeholder="X" />
                                </div>
                                <div class="col-sm-6">
                                    <input type="text" class="form-control" id="yCoord" placeholder="Y" />
                                </div>
                            </div>
                            <button id="apply-btn-mch" style="float: right" type="button" class="btn btn-primary">Appliquer</button>
                        </div>
                    </div>
                    <div class="tab-pane fade" id="nav-profile" role="tabpanel" aria-labelledby="nav-profile-tab">
                        <div class="modal-body" style="padding: 10px">
                            <div class="form-group row">
                                <div class="col-sm-6" style="border-right: 1px solid gray;">
                                    <input type="text" class="form-control" id="lat" placeholder="Latitude" />
                                </div>
                                <div class="col-sm-6">
                                    <input type="text" class="form-control" id="lng" placeholder="Longitude" />
                                </div>
                            </div>
                            <button id="apply-btn-wgs" style="float: right;" type="button" class="btn btn-primary">Appliquer</button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
	

    <div class="modal fade" id="initialProjModal" tabindex="-1" role="dialog" aria-hidden="true" style="z-index: 999999;">
        <div class="modal-dialog modal-dialog-centered" role="document">
            <div class="modal-content">
                <div class="modal-header" style="padding: 10px">
                    <h5 class="modal-title" id="exampleModalLabel"><b>Choisissez votre Zone:</b></h5>
                </div>
                <div class="modal-body" style="padding: 10px">
                    <div class="form-group row">
                        <!-- Go To -->
                        <select id="initial-proj-select" class="form-control" style="margin: 0 20px;">
                            <option disabled selected>PROJECTION LAMBERT</option>
                            <option value="N">Maroc - Zone 1</option>
                            <option value="S">Maroc - Zone 2</option>
                            <option value="SN">Maroc - Zone 3</option>
                            <option value="SS">Maroc - Zone 4</option>                         
                        </select>
                    </div>
                    <button disabled id="apply-initial-proj" style="float: right" type="button" class="btn btn-primary">Confirmer</button>
                </div>
            </div>
        </div>
    </div>

    <script defer src="main.js?v=724"></script>
    <script defer src="sat.js?v=700"></script>
    <script>
        var bg = new Image();
        bg.src = './bg.png';
        var cross = new Image();
        cross.src = './cross.png';
        var oneHasLoaded = false;
        var imgLoaded = function(params) {
            if (oneHasLoaded) {
                document.querySelector('.loading').style.backgroundColor = 'rgba(255, 255, 255, 0.9)';
                document.querySelector('.splash').style.backgroundImage = 'url("bg.png")';
                document.querySelector('.splash').style.display = 'block';
                document.querySelector('.cross').style.backgroundImage = 'url("cross.png")';
                document.querySelector('.cross').style.display = 'block';
            } else {
                oneHasLoaded = true;
            }
        };
        bg.onload = imgLoaded;
        cross.onload = imgLoaded;
    </script>
</body>

</html>